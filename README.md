# OmniSky Miner - Observatorio Local Autónomo

Sistema de minería de datos astronómicos (Radio & Visual) resiliente y autónomo.

## Características
- **Arquitectura de Pipeline**: Descarga -> Análisis -> Persistencia -> Limpieza (Zero Waste).
- **Backpressure**: Protege tu memoria RAM bloqueando la ingesta si las colas se llenan.
- **Evidencia Mínima**: Solo se guardan recortes (PNG/NPZ) de hallazgos interesantes.
- **Migraciones SQL**: Base de datos versionada en `/migrations`.

## Instalación
1. Instalar dependencias:
   ```bash
   pip install -r requirements.txt
   ```

2. Ejecutar Minería:
   ```bash
   python main_orchestrator.py
   ```
   *El sistema aplicará migraciones automáticamente en el primer inicio.*

## Aceleración GPU (Opcional)
**Requisito:** Python 3.9 - 3.12 (Python 3.14 aún no tiene soporte de binarios GPU).

Para habilitar el procesamiento masivo con tu **RTX 4060**:

1. Asegúrate de tener **CUDA Toolkit 12.x** instalado.
2. Instala CuPy:
   ```bash
   pip install cupy-cuda12x
   ```
   *(Si falla, es probable que tu versión de Python sea demasiado nueva. El sistema usará CPU automáticamente).*
3. Verifica la activación:
   ```bash
   python scripts/bench_gpu.py
   ```
   *Si detecta la GPU, verás un "Speedup Factor" > 1.0x.*

4. Configuración:
   En `config.py`, asegúrate de:
   ```python
   USE_GPU = True
   GPU_BACKEND = "cupy"
   ```

## Monitorización (Dashboard)
   ```bash
   streamlit run dashboard.py
   ```

## Mantenimiento
- **Reset Total**: Borra `omnisky.db` y ejecuta de nuevo.
- **Verificación**: Corre `python verify_run.py` para un test rápido del pipeline.
- **Configuración**: Edita `config.py` para ajustar hilos (`MAX_WORKERS`) o semillas (`URLS`).

## Estructura de Datos
Los hallazgos se guardan en `OMNISKY_DATA/HALLAZGOS/`:
- `0_RUIDO_FONDO`: Ruido filtrado.
- `5_IMAGENES_VISUALES`: Recortes FITS y detecciones visuales.
- `3_CANDIDATOS_ANOMALOS`: Señales de radio interesantes.

---
*Generated by Antigravity Agent*
